# 📄 PRD 產品需求文件 (V1.0)

## 1. 專案概述
* **專案名稱**：個人化筆記與社交分享平台
* **專案目標**：從個人筆記出發，逐步擴展至社交、即時通訊、生活紀錄（健身、理財、電商）的綜合性平台。
* **技術核心**：前後端分離 (FastAPI + Vue 3)，強調「設計先行」與「模組化擴充」。

---

## 2. 角色權限與權限定義

### 2.1 超級管理員 (Superadmin)
* **後台管理系統 (Admin Portal)**：獨立路徑，用於監控全站數據。
* **內容審核**：所有申請「全站公開」的文章必須經由管理員審核通過才能顯示在首頁。
* **使用者管理**：可停權違規使用者、管理註冊清單。
* **分類管理**：定義與修改全站的大類與子類標籤。

### 2.2 一般註冊使用者 (Verified User)
* **個人空間**：管理私有、個人頁公開、或全站公開的文章。
* **擴充模組權限**：可自行決定開啟或關閉健身、飲食、理財等進階功能。
* **互動權限**：追蹤他人、發送私訊、在公開文章留言。

### 2.3 訪客 (Visitor)
* **權限**：僅能瀏覽站長指定的公開頁面、公開文章牆與他人公開的個人頁面。

---

## 3. UI/UX 導覽與流程架構

### 3.1 響應式導覽列 (Navbar)
* **狀態 A (未登入)**：`首頁` | `關於我(站長)` | `全站公開筆記` | `登入/註冊`
* **狀態 B (已登入)**：`首頁` | `全站公開筆記` | `個人空間` | `通知(鈴鐺)` | `使用者選單(下拉選單)`
    * *使用者選單內含：個人資料設定、管理後台入口(限Admin)、登出。*

### 3.2 頁面跳轉邏輯
* **登入後**：預設跳轉至「個人空間 (Personal Workspace)」，讓使用者直接處理自己的筆記。
* **個人空間佈局**：
    * 左側/側邊欄：筆記管理、新增筆記、好友訊息、(動態顯示已開啟的擴充功能，如：健身紀錄)。

---

## 4. 核心功能細節

### 4.1 內容審核機制 (Moderation)
* **流程**：使用者勾選「申請全站公開」-> 文章進入待審區 -> 管理員審核通過 -> 出現在首頁筆記牆。
* **目的**：確保首頁內容品質，過濾廣告或違規內容。

### 4.2 多層級分類系統 (Category System)
* **層級架構**：
    1.  **大類別**：例如「學習筆記」、「遊戲攻略」、「生活心情」。
    2.  **子類別**：
        * 學習筆記 -> 程式開發、數學、物理、歷史。
        * 遊戲攻略 -> 動作遊戲、策略遊戲、RPG。
    3.  **自定義標籤 (Tags)**：由使用者自由輸入，如 #Vue3, #FastAPI, #Python。

### 4.3 富文本編輯與儲存 (Editor & Versioning)
* **編輯器選型**：Editor.js (JSON 結構化資料)。
* **功能**：支援文字大小、顏色、圖片上傳、影片嵌入、程式碼區塊(支援複製)、表格。
* **版本控制**：系統自動保存歷史 Snapshot，使用者可回溯至前一版本。

### 4.4 社交與通訊
* **即時私訊**：1-on-1 對話，支援 WebSocket 達成訊息不重新整理顯示，支援訊息編輯與刪除。
* **匿名漂流瓶**：匿名發送、隨機撈取、匿名留言互動。
* **留言系統**：支援巢狀回覆、作者專屬回覆標籤。

---

## 5. 擴充模組預留 (Future Extensions)
* **模組插槽設計**：未來新增「健身紀錄」、「飲食紀錄」、「個人理財」時，僅需新增對應資料表，並在個人空間側邊欄新增入口，不影響核心筆記系統。

---

## 6. 技術指標需求
* **響應式需求**：必須完美適配 手機(Mobile)、平板(Tablet)、桌機(Desktop)。
* **搜尋性能**：支援模糊搜尋 (Fuzzy Search)，針對標題與標籤進行權限過濾後的檢索。